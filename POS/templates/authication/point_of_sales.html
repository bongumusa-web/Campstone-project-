<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>POS System - Employee View</title>
  <!--<link rel="stylesheet" href="css code/point_of_sales.css" />-->
  <style>
    /* Add your CSS styles here */

    /* ================= GENERAL STYLES ================= */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
  background-color: #f4f6f7;
  color: #2c3e50;
}

/* ===== HEADER ===== */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 20px;
  background-color: #3498db;
  color: white;
}

header h1 {
  font-size: 1.8rem;
}

header .header-info span {
  margin-left: 15px;
  font-weight: bold;
}


/* ===== TOP NAV BAR ===== */
.top-nav {
  /*background-color: lab(53.68% 17.1 -68.18);*/
  padding: 10px;
}

.top-nav ul {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  margin: 0;
  padding: 0;
}

.top-nav li {
  display: inline;
}

.top-nav a {
  color: white;
  text-decoration: none;
  font-weight: bold;
  padding: 6px 10px;
  border-radius: 4px;
  transition: background-color 0.2s;
}

.top-nav a:hover {
  background-color: hsl(210, 94%, 49%);
}

/* Responsive: Stack links on small screens */
@media (max-width: 600px) {
  .top-nav ul {
    flex-direction: column;
    gap: 8px;
  }
}

/* ===== MAIN POS LAYOUT ===== */
.pos-container {
  display: flex;
  flex-wrap: wrap;
  padding: 20px;
  gap: 20px;
}

/* ===== LEFT COLUMN: PRODUCTS ===== */
.products-column {
  flex: 2;
  min-width: 250px;
}

.product-search {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

.product-search input,
.product-search select {
  padding: 8px;
  font-size: 16px;
  border-radius: 5px;
  border: 1px solid #ccc;
  flex: 1;
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 15px;
}

.product-tile {
  background-color: white;
  border-radius: 10px;
  padding: 10px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0px 2px 5px rgba(0,0,0,0.1);
  transition: transform 0.2s;
}

.product-tile:hover {
  transform: scale(1.05);
}

.product-tile img {
  width: 80px;
  height: 80px;
  object-fit: contain;
  margin-bottom: 5px;
}

.product-tile h3 {
  font-size: 1rem;
  margin-bottom: 5px;
}

.product-tile .price {
  font-weight: bold;
}

/* ===== MIDDLE COLUMN: CART ===== */
.cart-column {
  flex: 2;
  min-width: 250px;
  
}

.cart-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 10px;
}

.cart-table th,
.cart-table td {
  padding: 8px;
  border: 1px solid #ccc;
  text-align: center;
}

.cart-table th {
  background-color: #ecf0f1;
}

.totals {
  background-color: #ecf0f1;
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 10px;
}

.totals p, .totals h3 {
  margin-bottom: 5px;
  font-weight: bold;
}

/* ===== CART ACTIONS ===== */
.cart-actions {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.cart-controls {
  display: flex;
  gap: 10px;
  align-items: center;
}

.cart-controls input[type="number"] {
  width: 70px;
  padding: 5px;
  border-radius: 5px;
  border: 1px solid #ccc;
}

.cart-controls button {
  padding: 7px 12px;
  background-color: #3498db;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.cart-controls button:hover {
  background-color: #2980b9;
}

.cart-buttons {
  display: flex;
  gap: 10px;
}

.cart-buttons button {
  flex: 1;
  padding: 10px;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: white;
}

.cancel-btn {
  background-color: #e74c3c;
}

.cancel-btn:hover {
  background-color: #c0392b;
}

.complete-btn {
  background-color: #27ae60;
}

.complete-btn:hover {
  background-color: #219150;
}

/* ===== RIGHT COLUMN: PAYMENT & CALCULATOR ===== */
.payment-column {
  flex: 1;
  min-width: 250px;
  
}

.payment-column input#amount-paid {
  width: 100%;
  padding: 10px;
  font-size: 18px;
  margin-bottom: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
}

/* ===== CALCULATOR ===== */
.calculator {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin-bottom: 15px;
}

.calculator button {
  padding: 20px;
  font-size: 20px;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: white;
  transition: 0.2s;
}

.calculator button:hover {
  opacity: 0.8;
}

.calculator .operator {
  background-color: #e67e22;
}

.calculator .clear-btn {
  background-color: #c0392b;
}

.calculator button:not(.operator):not(.clear-btn) {
  background-color: #34495e;
}

/* ===== PAYMENT TYPES ===== */
.payment-types,
.receipt-options {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
}

.payment-types button,
.receipt-options button {
  flex: 1;
  padding: 10px;
  font-weight: bold;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  color: white;
}

.payment-types button:nth-child(1) { background-color: #27ae60; } /* Cash */
.payment-types button:nth-child(2) { background-color: #2980b9; } /* Card */
.payment-types button:nth-child(3) { background-color: #8e44ad; } /* FET */

.receipt-options button:nth-child(1) { background-color: #3498db; } /* Print */
.receipt-options button:nth-child(2) { background-color: #e67e22; } /* Email */

/* ===== RESPONSIVE DESIGN ===== */
@media screen and (max-width: 1024px) {
  .pos-container {
    flex-direction: column;
  }

  .products-column, .cart-column, .payment-column {
    min-width: 100%;
  }

  .products-grid {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  }
}

@media screen and (max-width: 600px) {
  header h1 {
    font-size: 1.3rem;
  }

  .calculator button {
    padding: 15px;
    font-size: 16px;
  }

  .cart-controls {
    flex-direction: column;
  }

  .cart-controls button {
    width: 100%;
  }

  .cart-buttons {
    flex-direction: column;
  }

  .cart-buttons button {
    width: 100%;
  }

  .payment-types, .receipt-options {
    flex-direction: column;
  }
}

  </style>
</head>
<body>
  <!-- ===== HEADER ===== -->
  <header>
    <nav class="top-nav">
      <ul id="nav-links"></ul>
    </nav>

    <h1>My Store POS</h1>
    <div class="header-info">
      <span id="cashier-name">Cashier: John Doe</span>
      <span id="date-time"></span>
    </div>
  </header>

  <!-- ===== MAIN LAYOUT ===== -->
  <main class="pos-container">

    <!-- ===== LEFT COLUMN: PRODUCTS ===== -->
    <section class="products-column">
      <div class="product-search">
        <input type="text" placeholder="Search products..." />
        <select>
          <option>All Categories</option>
          <option>Drinks</option>
          <option>Wings</option>
          <option>Kota</option>
          <option>Fries</option>
        </select>
      </div>

      <div class="products-grid">
        <div class="product-tile" data-name="Egg" data-price="3">
          <img src="images/egg.png" alt="Egg" />
          <h3>Egg</h3>
          <p class="price">R 3.00</p>
        </div>

        <div class="product-tile" data-name="Small Chips" data-price="20">
          <img src="images/small_chips.png" alt="Small Chips" />
          <h3>Small Chips</h3>
          <p class="price">R 20.00</p>
        </div>

        <div class="product-tile" data-name="Full Chips" data-price="30">
          <img src="images/full_chips.png" alt="Full Chips" />
          <h3>Full Chips</h3>
          <p class="price">R 30.00</p>
        </div>
      </div>
    </section>

    <!-- ===== MIDDLE COLUMN: CART ===== -->
    <section class="cart-column">
      <h2>Cart</h2>
      <table class="cart-table">
        <thead>
          <tr>
            <th>Qty</th>
            <th>Item</th>
            <th>Price</th>
            <th>Total</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="cart-body"></tbody>
      </table>

      <div class="totals">
        <p>Subtotal: <span id="subtotal">R0.00</span></p>
        <p>VAT (15%): <span id="vat">R0.00</span></p>
        <h3>Total: <span id="total">R0.00</span></h3>
        <p>Change Due: <span id="change-due">R0.00</span></p>
      </div>

      <!-- Quantity Input & Cart Actions -->
      <section class="cart-actions">
        <div class="cart-controls">
          <label for="quantity">Quantity:</label>
          <input type="number" id="quantity" min="1" value="1" />
          <button id="add-to-cart">Add to Cart</button>
        </div>

        <div class="cart-buttons">
          <button class="cancel-btn" id="cancel-cart">Cancel</button>
          <button class="complete-btn" id="complete-sale">Complete Sale</button>
        </div>
      </section>
    </section>

    <!-- ===== RIGHT COLUMN: PAYMENT & CALCULATOR ===== -->
    <section class="payment-column">
      <h2>Payment</h2>
      <input type="text" id="amount-paid" readonly placeholder="Enter amount" />

      <!-- Calculator -->
      <div class="calculator">
        <button class="operator" data-value="+">+</button>
        <button data-value="7">7</button>
        <button data-value="8">8</button>
        <button data-value="9">9</button>

        <button class="operator" data-value="/">/</button>
        <button data-value="6">6</button>
        <button data-value="5">5</button>
        <button data-value="4">4</button>

        <button class="operator" data-value="-">-</button>
        <button data-value="3">3</button>
        <button data-value="2">2</button>
        <button data-value="1">1</button>

        <button class="operator" data-value="*">*</button>
        <button data-value="0">0</button>
        <button data-value=".">.</button>
        <button class="clear-btn" id="clear-amount">Clear</button>
      </div>

      <!-- Payment Type -->
      <div class="payment-types">
        <button>Cash</button>
        <button>Card</button>
        <button>FET</button>
      </div>

      <!-- Receipt Options -->
      <div class="receipt-options">
        <button id="print-receipt">Print Receipt</button>
        <button id="email-receipt">Email Receipt</button>
      </div>
    </section>
  </main>

  <!-- ===== HIDDEN RECEIPT ===== -->
  <div id="receipt" style="display: none;">
    <p class="receipt-store">My Store</p>
    <p class="receipt-info">Cashier: <span id="receipt-cashier">John Doe</span></p>
    <p class="receipt-info">Date: <span id="receipt-date"></span></p>

    <table id="receipt-cart">
      <thead>
        <tr>
          <th>Qty</th>
          <th>Item</th>
          <th>Price</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <p>Subtotal: <span id="receipt-subtotal">R0.00</span></p>
    <p>VAT (15%): <span id="receipt-vat">R0.00</span></p>
    <h3>Total: <span id="receipt-total">R0.00</span></h3>
    <p>Change: <span id="receipt-change">R0.00</span></p>
  </div>

  <script src="javascript_code/point_of_sales.js"></script>
  <script>
    // Simulate user role (later will come from Django)
    const isSuperuser = true; // Change to false to simulate cashier

    const navLinks = document.getElementById("nav-links");
    const linksForSuperuser = [
      { name: "POS", url: "pos.html" },
      { name: "Dashboard", url: "dashboard.html" },
      { name: "Products", url: "products.html" },
      { name: "Suppliers", url: "suppliers.html" },
      { name: "Staff", url: "staff.html" },
      { name: "Settings", url: "settings.html" },
      { name: "Logout", url: "logout.html" }
    ];

    const linksForCashier = [
      { name: "Logout", url: "logout.html" }
    ];

    // Choose which set of links to show
    const linksToShow = isSuperuser ? linksForSuperuser : linksForCashier;

    linksToShow.forEach(link => {
      const li = document.createElement("li");
      const a = document.createElement("a");
      a.href = link.url;
      a.textContent = link.name;
      li.appendChild(a);
      navLinks.appendChild(li);
    });
  </script>
</body>
</html>
